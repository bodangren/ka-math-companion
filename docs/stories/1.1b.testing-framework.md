# Story 1.1b: Set up testing framework (Vitest + React Testing Library)

**Epic**: #15
**GitHub Issue**: #17
**Status**: Draft

## Story

As a developer and QA engineer, I want a comprehensive testing framework, so that I can write and run tests to ensure code quality and prevent regressions.

## Acceptance Criteria

1. Vitest configured with TypeScript support
2. React Testing Library integrated for component testing
3. Test coverage reporting enabled
4. Test utilities and helpers created
5. Example tests for existing components

## Dev Technical Guidance

### Implementation Overview
- Configure Vitest (native Vite integration)
- Set up React Testing Library with custom render utilities
- Configure coverage thresholds (â‰¥80% target)
- Create test helpers for common scenarios
- Document testing best practices

### Technical Constraints
- Must work with Vite build system (Story 1.1a dependency)
- Maintain compatibility with existing TypeScript setup
- Support testing components that use design tokens (when available)

## Tasks / Subtasks

- [ ] Install and configure Vitest
  - [ ] Add Vitest dependencies (native Vite integration)
  - [ ] Create vitest.config.ts
  - [ ] Configure TypeScript support
  - [ ] Set up jsdom environment for React testing
- [ ] Integrate React Testing Library
  - [ ] Add @testing-library/react and related packages
  - [ ] Create custom render function with providers
  - [ ] Set up testing utilities
  - [ ] Configure @vitest/ui for test UI (optional)
- [ ] Configure test coverage reporting
  - [ ] Set coverage thresholds (80% target)
  - [ ] Configure coverage reporters (text, html, lcov)
  - [ ] Add coverage scripts to package.json
  - [ ] Enable c8 coverage provider
- [ ] Create test helpers and utilities
  - [ ] Create mock data generators
  - [ ] Create common test setup utilities
  - [ ] Document testing patterns
- [ ] Write example tests
  - [ ] Test curriculum loader functionality
  - [ ] Test at least one existing component
  - [ ] Create integration test example
- [ ] Update CI configuration
  - [ ] Add test step to CI pipeline
  - [ ] Configure coverage upload
  - [ ] Set up test result reporting

## Definition of Done

- `pnpm test` runs all tests successfully
- `pnpm test:coverage` generates coverage reports
- At least 3 example tests written
- Testing documentation created
- CI integration verified

## Dev Agent Record

### Agent Model Used
_To be filled by dev agent_

### Debug Log References
_To be filled by dev agent_

### Completion Notes
_To be filled by dev agent_

### File List
_To be filled by dev agent_

## Change Log

| Date | Change | Author |
|------|--------|--------|
| 2025-10-05 | Story created | SM (Bob) |
| 2025-10-05 | Changed from Jest to Vitest | SM (Bob) |
